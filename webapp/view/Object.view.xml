<mvc:View xmlns="sap.m" xmlns:mvc="sap.ui.core.mvc" xmlns:semantic="sap.m.semantic" xmlns:footerbar="sap.ushell.ui.footerbar"
	xmlns:l="sap.ui.layout" xmlns:core="sap.ui.core" controllerName="cre.ret.app.controller.Object">
	<semantic:FullscreenPage id="page" navButtonPress="onNavBack" showNavButton="true" title="{i18n>objectTitle}" busy="{objectView>/busy}"
		busyIndicatorDelay="{objectView>/delay}">
		<semantic:customHeaderContent>
			<Text text="{i18n>BSCSCode}: {appView>/Salid}"/>
			<Button id="SO_SHOP" icon="sap-icon://retail-store" press="onShopSelect" text="{i18n>Shop}: {appView>/Shop}"/>
		</semantic:customHeaderContent>
		<semantic:content>
			<ObjectHeader id="objectHeader" responsive="{device>/system/phone}" fullScreenOptimized="{device>/system/phone}"
				title="{= ${NoSapInvoice} === true ? ${i18n>noInv} : ${Invoice} }" number="{ parts: [{ path : 'i18n>AmountLabel'}, { path : 'GrossVal' }], formatter: '.formatter.objectHeaderNumberUnit' }"
				numberUnit="{Currency}">
				<attributes>
					<!--  P2S-KSEF-SD: CR Fiori {-->
						<ObjectAttribute title="{i18n>ZZINVZBDESC}" text="{ZZINVZBDESC}" visible="{= ${ZZINVZBDESC} ? true : false }"/>
					<!-- } -->
					<ObjectAttribute title="{i18n>DELIV}" text="{Delivery}" visible="{= ${Delivery} ? true : false }"/>
					<ObjectAttribute title="{i18n>SALES_DOC}" text="{SalesDoc}" visible="{= ${SalesDoc} ? true : false }"/>
					<ObjectAttribute title="{i18n>NIP}" text="{Taxnumber1}" visible="{= ${Taxnumber1} ? true : false }"/>		
					<!--  P2S-KSEF-SD: [KSEF_1_GAP_12]  Zmiany w apps Fiori dla eFakt startmj{-->
					<!--  <ObjectAttribute title="{i18n>NumFakKsef}" text="{ZZKSEFID}" visible="{= ${ZZKSEFTRUE} === 'X' ? true : false }"/> -->
				</attributes>
				<statuses>
					<ObjectStatus title="{i18n>RTN_STATUS}" text="{objectView>/returnStatus}" state="{objectView>/returnStatusState}" class="sapMObjectStatusLarge"/>
					<ObjectStatus title="{i18n>CUST_NUM}" text="{CustNum}" state="None" visible="{= ${CustNum} ? true : false }"/>
					<ObjectStatus title="{i18n>FULL_NAME}" text="{CustDescr}" state="None" visible="{= ${CustDescr} ? true : false }"/>
					<ObjectStatus title="{i18n>TO_RETURN}" text="{parts:[{path : 'objectView>/returnAmount'}, {path : 'objectView>/addReturnAmount'}, {path: 'i18n>PLN'}], formatter:'.formatter.calculateReturn'}" state="None"/>
					<ObjectStatus title="{i18n>PMNT_METH}"  text="{ path : 'objectView>/zlsch', formatter: '.formatter.setPmntMethDisplayText'}" visible="{= ${objectView>/zlsch} !== '' ? true : false }"/>
					<!--  text="{parts:[{path : 'objectView>/disposition'}, {path : 'objectView>/addReturnAmount'}, {path: 'i18n>PLN'}], formatter:'.formatter.defineRetMethod'}" visible="{= ${objectView>/zlsch} !== '' ? true : false }"/> -->
					<ObjectStatus title="{i18n>PMNT_METH_DISPO}" text="{ path: 'objectView>/dispMethod', formatter: '.formatter.setDispoMethDisplayText'}" visible="{objectView>/disposition}"/>
					<!-- <ObjectStatus title="{i18n>TO_RETURN_ADD}" text="{parts:[{path : 'objectView>/returnAmount'}, {path : 'objectView>/addReturnAmount'}, {path: 'i18n>PLN'}], formatter:'.formatter.calculateReturn'}"
					state="None" visible="{= ${objectView>/addReturnAmount} > '0.00' ? true : false }"/>  -->
				</statuses>
			</ObjectHeader>
			<HBox justifyContent="End" class="sapUiMediumMarginEnd">
				<Label text="{i18n>REASON}:" class="sapUiTinyMargin"/>
				<!-- selectionChange="_reasonChange" 27.06.2018 -->
				<ComboBox enabled="true" selectedKey="{addData>/RetReason}" width="333px"
				valueState="{= ${addData>/RetReason} ? 'None' : 'Warning' }"
				items="{ path: '/SalesItemDictionarySet', sorter: { path: 'Value' }, filters : [ { path : 'DictName', operator : 'EQ', value1 : 'RET_REASON'} ] }">
				<core:ListItem key="{Key}" text="{Value}" additionalText="{Key}"/>
				</ComboBox>
			</HBox>
			<HBox justifyContent="Center">
				<Input placeholder="{i18n>SCANER_PLHLD}" submit="onScanerAction"/>
			</HBox>
			<!--items="{path: 'DocToItem', sorter : { path : 'ItmNumber', group : true }}"-->
			<Table id="PROD_TBL" inset="true" mode="MultiSelect" updateFinished="onUpdateFinished" selectionChange="onRowSelected"
				busyIndicatorDelay="{objectView>/delay}" growing="true" growingThreshold ="1000">
				<headerToolbar>
					<Toolbar>
						<Title text="{objectView>/lineItemsTableHeader}" level="H2"/>
						<ToolbarSpacer/>
						<Button icon="sap-icon://add" text="{i18n>ADD_POS}" tooltip="{i18n>ADD_POS}"
							visible="{= ${InvoiceIsExt} ? true : false }" press="onPosAdd"/>
					</Toolbar>
				</headerToolbar>
				<columns>
					<Column width="24em">
						<Text text="{i18n>MAT_DESCR}"/>
					</Column>
					<Column minScreenWidth="Tablet" demandPopin="true" hAlign="Center">
						<Text text="{i18n>RTN_STATUS}"/>
					</Column>
					<Column minScreenWidth="Tablet" demandPopin="true" hAlign="Center">
						<Text text="{i18n>SER_NUM}"/>
					</Column>
					<Column minScreenWidth="Tablet" width="6em" demandPopin="true" hAlign="Center">
						<Text text="{i18n>QUAN}"/>
					</Column>
					<Column minScreenWidth="Tablet" demandPopin="true" hAlign="Center" visible="false">
						<Text text="{i18n>RET_REAS}"/>
					</Column> 
					<Column minScreenWidth="Tablet" demandPopin="true" hAlign="Center" visible="false">
						<Text text="{i18n>PMNT_METH}"/>
					</Column>
				</columns>
			</Table>
		<core:Fragment fragmentName="cre.ret.app.view.LineItemIFSTemplate" type="XML"/>
		</semantic:content>
		<semantic:mainAction>
		<!-- 	<semantic:MainAction text="{i18n>RTRN_BTN}" id="rtrnBtn" press="onReturnPress" enabled="{objectView>/createEnable}"/> -->
			<semantic:MainAction text="{i18n>METH_BTN}" id="methBtn" press="onMethodPress" enabled="{= ${objectView>/createEnable} &amp;&amp; ${objectView>/isReturnable} }"/>
		</semantic:mainAction>
		<semantic:messagesIndicator>
			<semantic:MessagesIndicator tooltip="{i18n>MSG_IND_TOOLTIP}" id="msgInd" press="onMessageButtonPressed"/>
		</semantic:messagesIndicator>
	</semantic:FullscreenPage>
</mvc:View>