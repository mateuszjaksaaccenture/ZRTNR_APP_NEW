sap.ui.define(["sap/ui/model/json/JSONModel"],function(e){"use strict";return{numberUnit:function(e){if(!e){return""}return parseFloat(e).toFixed(2)},objectHeaderNumberUnit:function(e,t){if(e&&t){var r=[];r.push(t);r.push("PLN");var o=new sap.ui.model.type.Currency({showMeasure:false});return e+": "+o.formatValue(r,"string")}},parseQuantity:function(e){return parseInt(e,10)},_formatTargetQuantity:function(e){var t={precision:13,shortDecimals:3,decimalSeparator:"."};var r={precision:13,scale:3};var o=new sap.ui.model.odata.type.Decimal(t,r);return o.formatValue(e,"string")},fillObject:function(e,t){if(e&&t){e.Invoice=t.Invoice;e.Name=t.Name;e.Name2=t.Name2;e.Name3=t.Name3;e.Name4=t.Name4;e.Street=t.Street;e.HouseNo=t.HouseNo;e.City=t.City;e.Country=t.Country;e.EMail=t.EMail;e.ZzpersId=t.ZzpersId;e.Taxnumber1=t.Taxnumber1;e.Tel1Numbr=t.Tel1Numbr;e.PostlCod1=t.PostlCod1;e.Iban=t.Iban;e.Remarks=t.Remarks;e.PoczetFvRemark=t.PoczetFvRemark}return e},_setInitialCustomerData:function(t){return new e({Invoice:t.Invoice,Name:t.Name,Name2:t.Name2,Name3:t.Name3,Name4:t.Name4,Street:t.Street,HouseNo:t.HouseNo,City:t.City,Country:t.Country||"PL",EMail:t.EMail,ZzpersId:t.ZzpersId,Taxnumber1:t.Taxnumber1,Tel1Numbr:t.Tel1Numbr,PostlCod1:t.PostlCod1,Iban:t.Iban,Remarks:t.Remarks,PoczetFvRemark:t.PoczetFvRemark})},_setInitialAccData:function(t){return new e({AccountId:"",Name:t})},_getFromFields:function(e){var t=[];var r=e.getContent();var o;for(var n=0;n<r.length;n++){o=r[n].getMetadata().getName();if(o==="sap.m.Input"||o==="sap.m.FlexBox"||o==="sap.m.MaskInput"){if(o==="sap.m.FlexBox"){t=this._addFromFlexBox(t,r[n])}else{t.push({control:r[n],required:r[n-1].getRequired&&r[n-1].getRequired()})}}}return t},_addFromFlexBox:function(e,t){var r=t.getItems();for(var o=0;o<r.length;o++){e.push({control:r[o],required:true})}return e},_validateEmail:function(e){var t=e.getParameter("value"),r=new RegExp(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/);if(!t){e.getSource().setValueState("None")}else if(!t.match(r)){e.getSource().setValueState("Error")}else{e.getSource().setValueState("None")}},_setType:function(e){switch(e){case"E":return sap.ui.core.MessageType.Error;case"W":return sap.ui.core.MessageType.Warning;case"S":return sap.ui.core.MessageType.Success;case"I":return sap.ui.core.MessageType.Information}},_fillDeepData:function(e,t){var r=e;if(r.NoSapInvoice||r.InvoiceIsExt){r.Invoice="00000000"}r.DocToItem=t;r.DocToBapi=[{Id:"",Number:"",Row:0,Field:""}];r.RtrnToMsg=[{ReturnDoc:""}];return r},_fillNoRefDeepData:function(e,t){if(!e.Invoice){e.Invoice="00000000"}var r={Invoice:e.Invoice,SalesDoc:e.SalesOrder,CustNum:e.CustomerNumber,NoSapInvoice:true,InvoiceIsExt:true,IsAgentProc:e.IsAgentProc,Zlsch:e.Zlsch};if(e.Bstdk){var o=36e5*2;e.Bstdk=new Date(e.Bstdk.getTime()+o)}for(var n=0;n<e.DocToItem.length;n++){e.DocToItem[n].ItmNumber=this._generateItmNumber(n);e.DocToItem[n].Name=e.SupplierName;e.DocToItem[n].Name2=e.Name2;e.DocToItem[n].Name3=e.Name3;e.DocToItem[n].Name4=e.Name4;e.DocToItem[n].Bstdk=e.Bstdk;e.DocToItem[n].City=e.City;e.DocToItem[n].Country=e.Country;e.DocToItem[n].HouseNo=e.HouseNumber;e.DocToItem[n].PostlCod1=e.ZIPCode;e.DocToItem[n].Street=e.Street;e.DocToItem[n].SalesDoc=e.SalesOrder;e.DocToItem[n].Invoice=e.Invoice;e.DocToItem[n].PoQuan=parseFloat(e.DocToItem[n].PoQuan).toFixed(3);e.DocToItem[n].Werks=t;e.DocToItem[n].Iban=e.Iban;e.DocToItem[n].Remarks=e.Remarks;e.DocToItem[n].RetReason=e.RetReason;if(e.DocToItem[n].BruttoValue instanceof Array){e.DocToItem[n].BruttoValue=e.DocToItem[n].BruttoValue[0].toFixed(2)}else{e.DocToItem[n].BruttoValue=e.DocToItem[n].BruttoValue}if(e.DocToItem[n].BruttoValue>0&&(e.Zlsch==="P"||e.Zlsch==="R")){r.IsDisposition=true}}r.DocToItem=e.DocToItem;r.DocToBapi=e.DocToBapi;r.RtrnToMsg=e.RtrnToMsg;return r},calculateReturn:function(e,t,r){var o=parseFloat(e)+parseFloat(t);return o.toFixed(2)+" "+r},_calculateAddPrice:function(e){var t=0;for(var r=0;r<e.length;r++){if(e[r].getBindingContext("addData").getObject().BruttoValue){t=(parseFloat(t)+parseFloat(e[r].getBindingContext("addData").getObject().BruttoValue)).toFixed(2)}}return parseFloat(t).toFixed(2)},_generateItmNumber:function(e){var t=(e+1).toString()+"0",r=6-t.length,o="";for(var n=0;n<r;n++){o=o+"0"}return o.concat("",t)},docTypeChange:function(e,t){switch(t){case"STCD1":e.setProperty("/nipVisible",true);e.setProperty("/snVisible",false);e.setProperty("/prodVisible",false);e.setProperty("/srchMaxLength",0);break;case"ZXXSER50":e.setProperty("/nipVisible",false);e.setProperty("/snVisible",true);e.setProperty("/prodVisible",true);e.setProperty("/srchMaxLength",0);break;case"VBELN_VA":e.setProperty("/nipVisible",false);e.setProperty("/snVisible",false);e.setProperty("/prodVisible",false);e.setProperty("/srchMaxLength",20);break;default:e.setProperty("/nipVisible",false);e.setProperty("/snVisible",false);e.setProperty("/prodVisible",false);e.setProperty("/srchMaxLength",0)}},_fillDeepDispoPrint:function(e,t,r){var o=t;if(o.hasOwnProperty("OpenReturnDoc")){delete o.OpenReturnDoc}if(o.hasOwnProperty("ReturnStatus")){delete o.ReturnStatus}if(o.hasOwnProperty("DocToBapi")){delete o.DocToBapi}if(o.hasOwnProperty("DocToItem")){delete o.DocToItem}if(o.hasOwnProperty("RtrnToMsg")){delete o.RtrnToMsg}if(r){r.forEach(function(e){if(e.hasOwnProperty("ReturnDocStatus")){delete e.ReturnDocStatus}});o.PrintToItem=r}if(e&&!e===""){o.Guid=e}return o},_fillDeepDataForPmnts:function(e,t,r){var o=t?t:[{DictName:"ZLSCH",Key:"",Value:""}];var n=e?e:[{Invoice:"",ItmNumber:"",Serialno:""}];return{DictName:"ZLSCH",Key:t?"MAIN":"DISP",Value:t?r:"",MethodToItem:n,MethodToMethod:o}},setDataFromPaymentRequest:function(e,t,r,o){t.setProperty("/busy",false);if(e.hasOwnProperty("MethodToMethod")&&e.MethodToMethod!==null){if(e.Key==="DISP"){o.setData(e.MethodToMethod)}else if(e.Key==="MAIN"){r.setData(e.MethodToMethod)}if(e.Value.indexOf("||")>=0){var n=e.Value.split("||");t.setProperty("/disposition",n[0]==="X"?true:false);t.setProperty("/ownPayment",n[1]?parseFloat(n[1]):0);var a=function(e){if(e.Key==="E"){return e}},s=function(e){if(e.Key==="M"){return e}},i=function(e){if(e.Key==="WARNING"){return e}};var u=e.MethodToMethod.results.find(s),l=e.MethodToMethod.results.find(a),c=e.MethodToMethod.results.find(i);t.setProperty("/emergencyFund",parseFloat(l.Value));t.setProperty("/shopBalance",parseFloat(u.Value));t.setProperty("/noAccountDoc",c?true:false)}t.setProperty("/pmntLevel",e.Key)}},getDataFromRequest:function(e){var t;if(e.Value.indexOf("||")>0){var r=e.Value.split("||");t.disposition=r[0]==="X"?true:false;t.possibleReturn=r[1]}else{t.disposition=false;t.possibleReturn="0.00"}return t},setPmntMethDisplayText:function(e){var t=this.getModel("pmntMethods");return this.formatter._getPmntText(t,e)},setDispoMethDisplayText:function(e){var t=this.getModel("dsipPmntMethods");return this.formatter._getPmntText(t,e)},parseReturnDocVisibility:function(e,t){return!!e||t==="DOST"},_getPmntText:function(e,t){if(!t){return t}if(e){var r=e.getProperty("/results");if(r===undefined){return t}}else{return t}function o(e){if(e.Key===t){return e.Value}}var n=r.find(o);if(n.Value){return n.Value}else{return t}},setFieldRequiredBasedOnMeth:function(e,t,r){var o;if(t){o=e==="P"||r==="P"||e==="5"||r==="5"?true:false}else{o=e==="P"||e==="5"?true:false}return o},parseReturnDocStatus:function(e,t){if(e==="C"){return this.getOwnerComponent().getModel("i18n").getResourceBundle().getText("Returned")}else if(e==="N"){return this.getOwnerComponent().getModel("i18n").getResourceBundle().getText("Note")}else{if(t==="DOST"){return this.getOwnerComponent().getModel("i18n").getResourceBundle().getText("NSInactive")}else if(e){return this.getOwnerComponent().getModel("i18n").getResourceBundle().getText("OpenReturn")}}},parseReturnDocStatusState:function(e,t){if(e==="C"){return"Success"}else if(e==="N"){return"Warning"}else{if(t==="DOST"){return"Warning"}else if(e){return"Error"}}}}});
//# sourceMappingURL=formatter.js.map